(function(){"use strict";window.PxMapBehavior=window.PxMapBehavior||{};PxMapBehavior.ElementImpl={beforeRegister:function beforeRegister(){this.elementInst=null},attached:function attached(){this.__elAttached=!0},detached:function detached(){this.__elAttached=!1},notifyInstReady:function notifyInstReady(){var isReady=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!0;if(!isReady)return!1;this.fire("px-map-element-ready-to-add");return!0},shouldAddInst:function shouldAddInst(){if(!this.elementInst){var options=this.__initialOptions=this.getInstOptions();this.elementInst=this.createInst(options);this.fire("px-map-element-instance-created")}this.__instEvents=this.__instEvents||[];this.__instEventsElementsMap=this.__instEventsElementsMap||new WeakMap},shouldRemoveInst:function shouldRemoveInst(){this.unbindAllEvents(this.__instEvents,this.__instEventsElementsMap);this.__instEvents=null;this.__instEventsElementsMap=null},shouldUpdateInst:function shouldUpdateInst(){if(!this.elementInst&&this.__elAttached&&this.canAddInst()){this.notifyInstReady(this.canAddInst())}if(!this.elementInst)return;var lastOptions=this.__lastOptions||this.__initialOptions,nextOptions=this.getInstOptions();this.updateInst(lastOptions,nextOptions);this.__lastOptions=nextOptions},createInst:function createInst(){throw new Error("The `createInst` method must be implemented.")},updateInst:function updateInst(){throw new Error("The `updateInst` method must be implemented.")},getInstOptions:function getInstOptions(){throw new Error("The `getInstOptions` method must be implemented.")},addInst:function addInst(){throw new Error("The `bindInst` method must be implemented.")},removeInst:function removeInst(){throw new Error("The `unbindInst` method must be implemented.")},extendObj:function extendObj(obj){if(!obj||!babelHelpers.instanceof(obj,Object))throw new Error("The first parameter of `extendObj` must be an object to be mutated.");for(var _len=arguments.length,properties=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++){properties[_key-1]=arguments[_key]}if(properties.length){Object.assign.apply(Object,[obj].concat(properties))}return obj},addProperties:function addProperties(){this.properties=this.properties||{};for(var _len2=arguments.length,properties=Array(_len2),_key2=0;_key2<_len2;_key2++){properties[_key2]=arguments[_key2]}if(properties.length){this.extend.apply(this,[this.properties].concat(properties))}return this.properties},bindEvents:function bindEvents(evts,target){if("object"!==babelHelpers.typeof(evts)||!Object.keys(evts).length)return;var el=target||this.elementInst;if(!el||!el.on)return;var boundEvts=this.__instEvents,boundEvtEls=this.__instEventsElementsMap,evtNames=Object.keys(evts);evtNames.forEach(function(evtName){var evtReference={name:evtName,fn:evts[evtName]};el.on(evtReference.name,evtReference.fn);boundEvts.push(evtReference);boundEvtEls.set(evtReference,el)})},unbindAllEvents:function unbindAllEvents(boundEvts,boundEvtEls){if(!boundEvts||!boundEvts.length||!boundEvtEls)return;boundEvts.forEach(function(evt){var el=boundEvtEls.get(evt);if(!el||!el.off)return;var name=evt.name,fn=evt.fn;el.off(name,fn);boundEvtEls.delete(evt)})},isShadyScoped:function isShadyScoped(){return!Polymer.Settings.useNativeShadow},getShadyScope:function getShadyScope(){return"style-scope px-map"}};PxMapBehavior.Element=[PxMapBehavior.ElementImpl]})();