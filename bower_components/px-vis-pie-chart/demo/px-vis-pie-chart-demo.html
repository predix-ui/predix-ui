<!-- Common imports --><html><head><link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../px-icon-set/px-icon-set.html">

<!-- Common demo imports -->
<link rel="import" href="../../px-demo/px-demo-header.html">
<link rel="import" href="../../px-demo/px-demo-api-viewer.html">
<link rel="import" href="../../px-demo/px-demo-footer.html">
<link rel="import" href="../../px-demo/px-demo-configs.html">
<link rel="import" href="../../px-demo/px-demo-props.html">
<link rel="import" href="../../px-demo/px-demo-interactive.html">
<link rel="import" href="../../px-demo/px-demo-component-snippet.html">
<link rel="import" href="../../px-demo/px-demo-code-editor.html">
<link rel="import" href="../../px-demo/css/px-demo-content-helper-styles.html">

<!-- Imports for this component -->
<link rel="import" href="../px-vis-pie-chart.html">

<!-- Demo DOM module -->
</head><body><dom-module id="px-vis-pie-chart-demo">
  <template>
    <style include="px-demo-content-helper-styles"></style>

    <!-- Header -->
    <px-demo-header module-name="px-vis-pie-chart" description="The px-vis-pie-chart allows you to draw a pie or donut chart for some data. It can automatically use percentages or use the raw data in tooltip and register. When clicking on a slice the pie will rotate to display this slice at the top. Initial height and width can be set, but the component will try to fill its parent container on resize. It can be manually notified to recalculate its size by using notifyResize(). The chart is built off px-vis components which utilize d3.js 4.0+." desktop="">
    </px-demo-header>

    <!-- Interactive -->
    <px-demo-interactive>
      <!-- Configs -->
      <px-demo-configs slot="px-demo-configs" configs="[[configs]]" props="{{props}}" chosen-config="{{chosenConfig}}"></px-demo-configs>

      <!-- Props -->
      <px-demo-props slot="px-demo-props" props="{{props}}" config="[[chosenConfig]]"></px-demo-props>

      <!-- Code Editor -->
      <px-demo-code-editor slot="px-demo-code-editor" props="{{props}}"></px-demo-code-editor>

      <!-- Component ---------------------------------------------------------->
      <px-demo-component slot="px-demo-component" class="flex__item flex flex--col" style="width:100%">
        <button id="buttonData" class="u-mb btn btn--tertiary">Update Data</button>
        <div class="flex--column flex__item" style="width:100%;">
          <px-vis-pie-chart id="chart" chart-data="[[props.chartData.value]]" width="{{appliedWidth}}" height="{{appliedHeight}}" prevent-resize="" hide-register="{{props.hideRegister.value}}" aggregate-other-register="{{props.aggregateOtherRegister.value}}" preserve-data-order="{{props.preserveDataOrder.value}}" inner-radius="{{props.innerRadius.value}}" donut="{{props.donut.value}}" show-title="{{props.showTitle.value}}" prevent-color-reuse="{{props.preventColorReuse.value}}" margin="{{props.margin.value}}" series-config="{{props.seriesConfig.value}}" use-percentage="{{props.usePercentage.value}}" max-registers="{{props.maxRegisters.value}}" chart-horizontal-alignment="{{props.chartHorizontalAlignment.value}}" chart-vertical-alignment="{{props.chartVerticalAlignment.value}}" dynamic-menu-config="{{props.dynamicMenuConfig.value}}" title-spacing="{{props.titleSpacing.value}}" register-config="{{props.registerConfig.value}}" title="{{props.title.value}}" decimal-percentage="{{props.decimalPercentage.value}}">
          </px-vis-pie-chart>
      </div>
      </px-demo-component>
      <!-- END Component ------------------------------------------------------>

      <px-demo-component-snippet slot="px-demo-component-snippet" element-properties="{{props}}" element-name="px-vis-pie-chart" codepen-link="https://glitch.com/edit/#!/px-vis-pie-chart-demo" suppress-property-values="[[suppressPropertyValues]]">
      </px-demo-component-snippet>
    </px-demo-interactive>

    <!-- API Viewer -->
    <px-demo-api-viewer source="px-vis-pie-chart" hide="[[apiHide]]" mark-private="[[apiMarkPrivate]]" mark-read-only="[[apliMarkReadOnly]]" change-description="[[apiChangeDescription]]">
    </px-demo-api-viewer>

    <!-- Footer -->
    <px-demo-footer></px-demo-footer>

  </template>

</dom-module>
<script>Polymer({is:"px-vis-pie-chart-demo",properties:{props:{type:Object,value:function value(){return this.demoProps}},configs:{type:Array,value:function value(){return[{configName:"Default"}]}},apiHide:{type:Array,value:function value(){return["observer","offset","svg","includeAllSeries","mutedSeries","cloneSVGElem","addClipPath","generateRandomID"]}},apiMarkPrivate:{type:Array,value:function value(){return["pxSvgElem","seriesClipPath","clipPath","defaultSeriesConfig","xAxisType","yAxisType"]}},apliMarkReadOnly:{type:Array,value:function value(){return[]}},apiChangeDescription:{type:Array,value:function value(){return[]}},suppressPropertyValues:{type:Array,value:function value(){return["chartData"]}},appliedWidth:{type:Number},appliedHeight:{type:Number},currentDataIndex:{type:Number,value:0},dataSet:{type:Array,value:[[{x:1,y:"IPA"},{x:1,y:"Pils"},{x:1,y:"Lager"},{x:8,y:"Lambic"},{x:12,y:"Stout"},{x:7,y:"Pale Ale"},{x:9,y:"Porter"},{x:4,y:"Heffeweisse"}],[{x:6,y:"IPA"},{x:1,y:"Pils"},{x:1,y:"Lager"},{x:13,y:"Lambic"},{x:5,y:"Stout"},{x:7,y:"Pale Ale"},{x:4,y:"Heffeweisse"}],[{x:6,y:"IPA"},{x:1,y:"Pils"},{x:1,y:"Lager"},{x:13,y:"Lambic"},{x:5,y:"Stout"},{x:7,y:"Pale Ale"},{x:4,y:"Heffeweisse"},{x:5,y:"Barleywine"},{x:6,y:"Old Ale"}],[{x:45,y:"Sky"},{x:0,y:"dummy"},{x:0,y:"dummy"},{x:0,y:"dummy"},{x:12,y:"Shady side of pyramid"},{x:0,y:"dummy"},{x:9,y:"Sunny side of pyramid"}]]}},demoProps:{preventResize:{type:Boolean,defaultValue:!0,inputType:"toggle"},width:{type:Number,defaultValue:450,inputDisabled:!1,inputType:"text"},height:{type:Number,defaultValue:450,inputDisabled:!1,inputType:"text"},chartHorizontalAlignment:{type:String,defaultValue:"center",inputType:"dropdown",inputChoices:["left","center","right"]},chartVerticalAlignment:{type:String,defaultValue:"center",inputType:"dropdown",inputChoices:["top","center","bottom"]},margin:{type:Object,defaultValue:{top:"10",bottom:"10",left:"0",right:"0"},inputType:"code:JSON"},hideRegister:{type:Boolean,defaultValue:!1,inputType:"toggle"},registerConfig:{type:Object,defaultValue:{type:"vertical",width:200},inputType:"code:JSON"},chartData:{type:Array,defaultValue:[{percentage:"26",x:15,y:"IPA"},{percentage:"2",x:1,y:"Pils"},{percentage:"2",x:1,y:"Lager"},{percentage:"14",x:8,y:"Lambic"},{percentage:"21",x:12,y:"Stout"},{percentage:"12",x:7,y:"Pale Ale"},{percentage:"16",x:9,y:"Porter"},{percentage:"7",x:4,y:"Heffeweisse"}],inputType:"code:JSON"},seriesConfig:{type:Object,defaultValue:{mySerie:{xAxisUnit:"pints",y:"y",x:"x"}},inputType:"code:JSON"},preserveDataOrder:{type:Boolean,defaultValue:!1,inputType:"toggle"},preventColorReuse:{type:Boolean,defaultValue:!1,inputType:"toggle"},donut:{type:Boolean,defaultValue:!1,inputType:"toggle"},innerRadius:{type:Number,defaultValue:0,inputType:"Number",inputLabel:"Inner Radius (0 - 1)"},showTitle:{type:Boolean,defaultValue:!1,inputType:"toggle"},title:{type:String,defaultValue:"Total",inputType:"text"},titleSpacing:{type:Number,defaultValue:5,inputType:"number"},usePercentage:{type:Boolean,defaultValue:!1,inputType:"toggle"},decimalPercentage:{type:Number,defaultValue:0,inputType:"number"},aggregateOtherRegister:{type:Boolean,defaultValue:!1,inputType:"toggle"},maxRegisters:{type:Number,defaultValue:0,inputType:"number"},dynamicMenuConfig:{type:Array,defaultValue:[{name:"Log message",action:"function(data) {console.log(\"logging message\")}",eventName:"delete",icon:"px-vis:trash-series"}],inputType:"code:JSON"}},observers:["_preventResizeChanged(props.preventResize.value)","_appliedWidthChanged(appliedWidth)","_appliedHeightChanged(appliedHeight)","_widthChanged(props.width.value)","_heightChanged(props.height.value)"],attached:function attached(){this.$.buttonData.addEventListener("click",function(){this.currentDataIndex++;this.currentDataIndex=this.currentDataIndex%4;this.$.chart.set("chartData",this.dataSet[this.currentDataIndex])}.bind(this))},_preventResizeChanged:function _preventResizeChanged(){this.set("props.width.inputDisabled",!this.props.preventResize.value);this.set("props.height.inputDisabled",!this.props.preventResize.value);this.$.chart.set("preventResize",this.props.preventResize.value)},_widthChanged:function _widthChanged(){if(this.props.preventResize.value){this.set("appliedWidth",this.props.width.value)}},_heightChanged:function _heightChanged(){if(this.props.preventResize.value){this.set("appliedHeight",this.props.height.value)}},_appliedWidthChanged:function _appliedWidthChanged(){this.set("props.width.value",this.appliedWidth)},_appliedHeightChanged:function _appliedHeightChanged(){this.set("props.height.value",this.appliedHeight)}});</script>
</body></html>