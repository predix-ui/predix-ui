<!--
Copyright (c) 2018, General Electric

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><html><head><script>var PxVisBehaviorDemo=PxVisBehaviorDemo||{};PxVisBehaviorDemo.chartGenerator={properties:{_chartOptions:{type:Object,value:function value(){return{scatter:!1,disableNav:!1,canvas:!1,progressiveRendering:!1,addDynamicMenus:!1,addThresholds:!1,multiAxis:!1,rendToSvg:!1,resizeDebounce:250,width:800,height:500,preventResize:!1,customToolbar:!1,hideRegister:!1,includeChartExtents:!1,addEvents:!1,eventsNumber:4,eventsType:"unicode",eventsNoLine:!1,eventsNoTooltip:!1,markerSize:64,markerSymbol:"circle",markerScale:1,markerFillOpacity:.6,markerStrokeOpacity:1,preventWwSync:!1,addCategories:!1,hideCategoryRegister:!1,markerTSNumber:50,markerTSRowsNumber:3,markerTSSize:64,markerTSSymbol:"bar",markerTSScale:1,markerTSFillOpacity:.6,markerTSStrokeOpacity:1,markerShowTooltip:!0,hardMute:!1,showTooltip:!1,allowNegativeValues:!1,addCrosshairData:!1,showGaps:!1}}}},_generateSeriesConfigXYTS:function _generateSeriesConfigXYTS(numberId,useGenerationConfig,isTS,chart){var result={},seriesNumber,isMultiAxis=useGenerationConfig?this._chartOptions.multiAxis:1<Object.keys(chart.y).length,type;if(useGenerationConfig){seriesNumber=this._chartOptions.disableNav||!isTS?this._drawingsPerChart:this._drawingsPerChart/2;type=this._chartOptions.scatter?"scatter":"line"}else{var configKey=Object.keys(chart.seriesConfig);seriesNumber=Object.keys(chart.chartData[0]).length-2;type=chart.seriesConfig[configKey[0]].type}result={x:isTS?"timeStamp":"x",y:"y".concat(numberId),type:type,yAxisUnit:"u",xAxisUnit:"u",markerSize:this._chartOptions.markerSize,markerSymbol:this._chartOptions.markerSymbol,markerScale:this._chartOptions.markerScale,markerFillOpacity:this._chartOptions.markerFillOpacity,markerStrokeOpacity:this._chartOptions.markerStrokeOpacity};if(isMultiAxis){var side;if(useGenerationConfig){side=numberId<seriesNumber/2?"left":"right"}else{side=chart.numLeftAxes===chart.numRightAxes?"left":"right"}result.axis={id:"axis".concat(numberId),number:numberId,side:side}}return result},_processOptions:function _processOptions(chart,extents,data){switch(chart.nodeName){case"PX-VIS-TIMESERIES":this._processOptionsTS(chart,extents,data);break;case"PX-VIS-XY-CHART":this._processOptionsXY(chart,extents);break;case"PX-VIS-POLAR":this._processOptionsPolar(chart);break;case"PX-VIS-PARALLEL-COORDINATES":this._processOptionsParallel(chart);break;case"PX-VIS-RADAR":this._processOptionsRadar(chart,extents);break;}},_processOptionsTS:function _processOptionsTS(chart,extents,data){for(var _Mathfloor=Math.floor,seriesConfig={},seriesNumber=this._chartOptions.disableNav?this._drawingsPerChart:this._drawingsPerChart/2,i=0;i<seriesNumber;i++){seriesConfig["y".concat(i)]=this._generateSeriesConfigXYTS(i,!0,!0)}chart.set("seriesConfig",seriesConfig);chart.set("renderToCanvas",this._chartOptions.canvas);chart.toolbarConfig={config:{tooltipWithSearchTypesAndRadius:!0,advancedZoom:!0,pan:!0}};chart.hideRegister=this._chartOptions.hideRegister;if(this._chartOptions.includeChartExtents){chart.chartExtents=extents}else{chart.chartExtents={x:["dynamic","dynamic"],y:["dynamic","dynamic"]}}chart.xAxisConfig={title:"X",labelPosition:"center",orientation:"bottom"};chart.yAxisConfig={title:"An Axis"};if(!this._chartOptions.multiAxis){chart.yAxisConfig.preventSeriesBar=!0}if(this._chartOptions.addEvents){for(var step=(data[data.length-1].timeStamp-data[0].timeStamp)/this._chartOptions.eventsNumber,eventData=[],i=0;i<this._chartOptions.eventsNumber;i++){eventData.push({id:i,time:data[0].timeStamp+step*(i+.5),label:this._chartOptions.eventsType})}chart.eventData=eventData;chart.eventConfig={fa:{color:"blue",icon:"px-fea:deployments",type:"px",offset:[0,0],lineColor:"red",lineWeight:this._chartOptions.eventsNoLine?0:1,enableTooltip:this._chartOptions.eventsNoTooltip?!1:!0},unicode:{color:"green",icon:"px-obj:truck",type:"px",offset:[1,0],lineWeight:this._chartOptions.eventsNoLine?0:1,enableTooltip:this._chartOptions.eventsNoTooltip?!1:!0},default:{lineWeight:this._chartOptions.eventsNoLine?0:1,enableTooltip:this._chartOptions.eventsNoTooltip?!1:!0}}}else{chart.eventData=[];chart.eventConfig={}}if(this._chartOptions.addMarkers){var step=(data[data.length-1].timeStamp-data[0].timeStamp)/this._chartOptions.markerTSNumber,markerData=[],config={},newMargin={};newMargin.top=chart.margin.top;newMargin.bottom=chart.margin.bottom+50;newMargin.left=chart.margin.left;newMargin.right=chart.margin.right;for(var j=0;j<this._chartOptions.markerTSRowsNumber;j++){for(var i=0;i<this._chartOptions.markerTSNumber;i++){markerData.push({time:_Mathfloor(data[0].timeStamp+step*(i+.5)),label:"label".concat(j),customKey:"someVal",customKey2:1223124});if(0===j){markerData.push({time:_Mathfloor(data[0].timeStamp+step*(i+.5)),label:"labelCustom",customKey:"someOtherVal",customKey2:1});markerData.push({time:_Mathfloor(data[0].timeStamp+step*(i+.5)),label:"labelCustom2",customKey:"pwet",customKey2:323})}}config["label".concat(j)]={color:"rgb(123,0,0)",location:0===j%2?"top":"bottom",row:j,markerSize:this._chartOptions.markerTSSize,markerSymbol:this._chartOptions.markerTSSymbol,markerScale:this._chartOptions.markerTSScale,markerFillOpacity:this._chartOptions.markerTSFillOpacity,markerStrokeOpacity:this._chartOptions.markerTSStrokeOpacity,showTooltip:this._chartOptions.markerShowTooltip,priority:10,firstDateTimeFormat:"HH:mm A z",timezone:"Etc/GMT"};if(0===j%2){newMargin.top+=15}else{newMargin.bottom+=15}}config.labelCustom={color:"rgb(123,123,123)",location:"top",row:0,markerSize:this._chartOptions.markerTSSize,markerSymbol:"star",markerScale:this._chartOptions.markerTSScale,markerFillOpacity:this._chartOptions.markerTSFillOpacity,markerStrokeOpacity:this._chartOptions.markerTSStrokeOpacity,showTooltip:this._chartOptions.markerShowTooltip,priority:1,firstDateTimeFormat:"HH:mm A z",timezone:"Etc/GMT+10"};config.labelCustom2={color:"rgb(0,255,0)",location:"top",row:0,markerSize:this._chartOptions.markerTSSize,markerSymbol:"wye",markerScale:this._chartOptions.markerTSScale,markerFillOpacity:this._chartOptions.markerTSFillOpacity,markerStrokeOpacity:this._chartOptions.markerTSStrokeOpacity,showTooltip:this._chartOptions.markerShowTooltip,priority:2,firstDateTimeFormat:"HH:mm A z",timezone:"Etc/GMT+10"};chart.set("margin",newMargin);chart.markerData=markerData;chart.markerConfig=config}else{chart.markerData=[];chart.markerConfig={}}if(this._chartOptions.addThresholds){chart.thresholdData=[{for:"series0",type:"max",value:8.4784},{for:"series0",type:"min",value:-9.6531},{for:"series0",type:"mean",value:.330657585139331},{for:"series1",type:"mean",value:2},{for:"series1",type:"quartile",value:-3}];chart.thresholdConfig={max:{color:"red",dashPattern:"5,0",title:"MAX",showThresholdBox:!0,displayTitle:!0}}}else{chart.thresholdData=[];chart.thresholdConfig={}}if(this._chartOptions.addDynamicMenus){chart.dynamicMenuConfig=[{name:"Delete",action:"function(data) {var newConf = {}, confKeys = Object.keys(this.seriesConfig); for(var i=0; i<confKeys.length; i++) { if(data.additionalDetail.name !== confKeys[i]) {newConf[confKeys[i]] = this.seriesConfig[confKeys[i]];}}this.set(\"seriesConfig\", newConf);}",eventName:"delete",icon:"px-vis:trash-series"},{name:"Bring To Front",action:"function(data) { this.set(\"serieToRedrawOnTop\", data.additionalDetail.name);}",eventName:"bring-to-front",icon:"px-vis:bring-to-front"}]}else{chart.dynamicMenuConfig=[]}chart.disableNavigator=this._chartOptions.disableNav;chart.preventWebWorkerSynchronization=this._chartOptions.preventWwSync},_processOptionsXY:function _processOptionsXY(chart,extents){for(var seriesConfig={},i=0;i<this._drawingsPerChart;i++){seriesConfig["y".concat(i)]=this._generateSeriesConfigXYTS(i,!0,!1)}chart.hideRegister=this._chartOptions.hideRegister;chart.registerConfig={forceDateTimeDisplay:"true",width:250};chart.toolbarConfig={config:{tooltipWithFullOptions:!0,advancedZoom:!0,pan:!0}};chart.xAxisConfig={title:"X",labelPosition:"center",orientation:"bottom"};chart.yAxisConfig={title:"An Axis"};if(!this._chartOptions.multiAxis){chart.yAxisConfig.preventSeriesBar=!0}chart.seriesConfig=seriesConfig;chart.margin={top:"30",bottom:"60",left:"80",right:"100"};chart.timeData="timeStamp";if(this._chartOptions.includeChartExtents){chart.chartExtents=extents}else{chart.chartExtents={x:["dynamic","dynamic"],y:["dynamic","dynamic"]}}chart.renderToCanvas=this._chartOptions.canvas;if(this._chartOptions.addDynamicMenus){chart.dynamicMenuConfig=[{name:"Delete",action:"function(data) { var conf = this.seriesConfig;  delete conf[data.additionalDetail.name]; this.set(\"seriesConfig\", {}); this.set(\"seriesConfig\", conf);}",eventName:"delete",icon:"px-vis:trash-series"},{name:"Bring To Front",action:"function(data) { this.set(\"serieToRedrawOnTop\", data.additionalDetail.name);}",eventName:"bring-to-front",icon:"px-vis:bring-to-front"}]}else{chart.dynamicMenuConfig=[]}chart.preventWebWorkerSynchronization=this._chartOptions.preventWwSync},_processOptionsPolar:function _processOptionsPolar(chart){for(var seriesConfig={},i=0;i<this._drawingsPerChart;i++){seriesConfig["y".concat(i)]={x:"x",y:"y".concat(i),yAxisUnit:"someUnit"}}chart.showArrows=this._chartOptions.showArrows;chart.hideRegister=this._chartOptions.hideRegister;chart.allowNegativeValues=this._chartOptions.allowNegativeValues;chart.registerConfig={forceDateTimeDisplay:"true",width:250};chart.toolbarConfig={config:{tooltipWithSearchTypes:!0,zoom:!0,pan:!0}};chart.seriesConfig=seriesConfig;chart.useDegrees=!0;chart.margin={top:"0",bottom:"0",left:"10",right:"10"};chart.timeData="timeStamp";chart.renderToCanvas=this._chartOptions.canvas;if(this._chartOptions.addDynamicMenus){chart.dynamicMenuConfig=[{name:"Dummy",action:"function(data) { console.log(\"dummy\")}",eventName:"delete",icon:"px-vis:trash-series"}]}else{chart.dynamicMenuConfig=[]}chart.preventWebWorkerSynchronization=this._chartOptions.preventWwSync},_processOptionsParallel:function _processOptionsParallel(chart){chart.generateAxesFromData=!0;chart.matchTicks=!0;chart.seriesKey="timeStamp";chart.skipKeys={x:!0,timeStamp:!0,category:!0};chart.renderToSvg=this._chartOptions.rendToSvg;chart.hideAxisRegister=this._chartOptions.hideRegister;chart.hideCategoryRegister=this._chartOptions.hideCategoryRegister;chart.categoryKey=this._chartOptions.addCategories?"category":"";chart.categories=[0,1,2,3];if(this._chartOptions.addDynamicMenus){chart.dynamicMenuConfig=[{name:"Dummy",action:"function(data) { console.log(\"dummy\")}",eventName:"delete",icon:"px-vis:trash-series"}]}else{chart.dynamicMenuConfig=[]}},_processOptionsRadar:function _processOptionsRadar(chart,extents){chart.generateAxesFromData=!0;chart.matchTicks=!0;chart.seriesKey="timeStamp";chart.skipKeys={x:!0,timeStamp:!0};chart.renderToSvg=this._chartOptions.rendToSvg;chart.hideAxisRegister=this._chartOptions.hideRegister;chart.hideCategoryRegister=this._chartOptions.hideCategoryRegister;chart.categoryKey=this._chartOptions.addCategories?"category":"";chart.categories=[0,1,2,3];if(this._chartOptions.includeChartExtents){chart.chartExtents=extents}if(this._chartOptions.addDynamicMenus){chart.dynamicMenuConfig=[{name:"Dummy",action:"function(data) { console.log(\"dummy\")}",eventName:"delete",icon:"px-vis:trash-series"}]}else{chart.dynamicMenuConfig=[]}},_processChartCreation:function _processChartCreation(newChart,extents,data,currWidth){newChart.debounceResizeTiming=this._chartOptions.resizeDebounce;newChart.set("preventResize",this._chartOptions.preventResize);newChart.set("height",this._chartOptions.height);if(newChart.preventResize){newChart.set("width",this._chartOptions.width)}else if(currWidth){newChart.width=currWidth}this._processOptions(newChart,extents,data);newChart.chartData=data;newChart.hardMute=this._chartOptions.hardMute;newChart.showTooltip=this._chartOptions.showTooltip;if(this._chartOptions.addCrosshairData){newChart.set("highlighterConfig",{drawWithLocalCrosshairData:!1,differentDataset:!0,fuzz:1e11,showTooltipData:!0});var timestamp=data[Math.floor(data.length/2)].timeStamp;newChart.set("crosshairData",{rawData:[{timeStamp:timestamp}],timeStamps:[timestamp]})}if(this._chartOptions.customToolbar){var newConf={config:{}};if(newChart.toolbarConfig){for(var keys=Object.keys(newChart.toolbarConfig.config),j=0;j<keys.length;j++){newConf.config[keys[j]]=newChart.toolbarConfig.config[keys[j]]}}newConf.config.addSerie={tooltipLabel:"Add a serie to the chart",title:"+1",onClick:this._addSerie,onClickContext:this,chart:newChart};newConf.config.removeSerie={tooltipLabel:"Remove a serie from the chart",title:"-1",onClick:this._removeSerie,onClickContext:this,chart:newChart};newConf.config.modifyData={tooltipLabel:"Changes the data for the current series",title:"~",onClick:this._changeData,onClickContext:this,chart:newChart};newConf.config.modifyDataAndSeries={tooltipLabel:"Changes the data and the series",title:"~~",onClick:this._changeDataAndSeries,onClickContext:this,chart:newChart};newConf.config.addAndModify={tooltipLabel:"Changes the data for the current series and add 1 series",title:"+1/~",onClick:this._addSerieAndModifyData,onClickContext:this,chart:newChart};newConf.config.removeAndModify={tooltipLabel:"Changes the data for the current series and remove 1 series",title:"-1/~",onClick:this._removeSerieAndModifyData,onClickContext:this,chart:newChart};newChart.set("toolbarConfig",newConf)}}};PxVisBehaviorDemo.timings={properties:{_drawingCounter:{type:Number,value:0},_drawingsPerChart:{type:Number,value:0},_drawingMultiplier:{type:Number,value:1},_drawingNumberOfCharts:{type:Number,value:0},_drawingTimerName:{type:String}},_getNumberOfDrawingPerCharts:function _getNumberOfDrawingPerCharts(data,chartType){switch(chartType){case"px-vis-timeseries":var multiplier=this._chartOptions.disableNav?1:2;return multiplier*(Object.keys(data[0]).length-2);case"px-vis-xy-chart":return Object.keys(data[0]).length-2;case"px-vis-polar":return Object.keys(data[0]).length-2;case"px-vis-parallel-coordinates":return 1;case"px-vis-radar":return 1;}},_startPerfMeasure:function _startPerfMeasure(){window.performance.clearMarks();window.performance.mark("start")},_drawingListen:function _drawingListen(){this._drawingCounter++;if(0===this._drawingCounter%(this._drawingMultiplier*+this._drawingNumberOfCharts)){window.performance.mark("end");performance.clearMeasures();window.performance.measure("lastMeasure","start","end");var duration=window.performance.getEntriesByName("lastMeasure")[0].duration;console.log("".concat(this._drawingTimerName,": ").concat(duration," (average per chart: ").concat(duration/+this._drawingNumberOfCharts,")"))}},_initializeDrawingMeasures:function _initializeDrawingMeasures(chartType,numberOfChart,data){this._drawingCounter=0;this._drawingsPerChart=this._getNumberOfDrawingPerCharts(data,chartType);this._drawingNumberOfCharts=numberOfChart;if("px-vis-timeseries"===chartType||"px-vis-xy-chart"===chartType||"px-vis-polar"===chartType){if(this._chartOptions.canvas){this._drawingMultiplier="px-vis-timeseries"===chartType&&!this._chartOptions.disableNav?2:1}else{this._drawingMultiplier=this._drawingsPerChart}}else{if(this._chartOptions.rendToSvg){this._drawingMultiplier=1}else{this._drawingMultiplier=this._drawingsPerChart}}}};PxVisBehaviorDemo.propertyWatch={properties:{_propertiesTimed:{type:Array,value:function value(){return[]}}},_addPropertyWatcher:function _addPropertyWatcher(chart,propName){var dashed=this._camelToDash(propName);if(-1===this._propertiesTimed.indexOf(propName)){this._propertiesTimed.push(propName)}chart.addEventListener("".concat(dashed,"-changed"),function(e){window.performance.mark("".concat(propName,"Changed_").concat(chart.benchmarkId))})},_camelToDash:function _camelToDash(str){return str.replace(/([A-Z])/g,function(g){return"-".concat(g[0].toLowerCase())})},_processPropertiesTiming:function _processPropertiesTiming(chartIndex,result){var measure;result.properties={};this._propertiesTimed.forEach(function(prop,i){result.properties[prop]={count:window.performance.getEntriesByName("".concat(prop,"Changed_").concat(chartIndex),"mark").length,duration:this._measureTiming("".concat(prop,"_").concat(chartIndex),"before_append","".concat(prop,"Changed_").concat(chartIndex))}}.bind(this))},_measureTiming:function _measureTiming(name,timingStart,timingEnd,result){if(window.performance.getEntriesByName(timingEnd,"mark").length){window.performance.measure(name,timingStart,timingEnd);var measures=window.performance.getEntriesByName(name);return measures[measures.length-1].duration}else{return-1}}};</script>
</head><body></body></html>