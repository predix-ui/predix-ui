<!--
Copyright (c) 2018, General Electric

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><html><head><link rel="import" href="../px-d3-imports/px-d3-imports.html">
<link rel="import" href="px-vis-imports.html">
<link rel="import" href="px-vis-behavior-common.html">
<link rel="import" href="px-vis-scheduler.html">
<link rel="import" href="../iron-meta/iron-meta.html">
<script>var PxVisBehaviorD3=window.PxVisBehaviorD3=window.PxVisBehaviorD3||{};PxVisBehaviorD3.svg=[{properties:{svg:{type:Object,notify:!0},pxSvgElem:{type:Object,notify:!0}},generateRandomID:function generateRandomID(baseStr){for(var id=baseStr,abc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",len=abc.length,i=0;10>i;i++){id+=abc.charAt(Math.floor(Math.random()*len))}Px.uniqueIds=Px.uniqueIds||[];if(-1!==Px.uniqueIds.indexOf(id)){return this.generateRandomID(baseStr)}else{Px.uniqueIds.push(id)}return id},cloneSVGElem:function cloneSVGElem(svg,prop,onBottom){var tempSVG=svg,clone=tempSVG.cloneNode();if(!onBottom||0===tempSVG.parentNode.childNodes.length){tempSVG.parentNode.appendChild(clone)}else{tempSVG.parentNode.insertBefore(clone,tempSVG.parentNode.firstChild)}this.set(prop,Px.d3.select(clone))},_drawSVGOnCanvas:function _drawSVGOnCanvas(canvas,elem,callback,x,y){var svgData=elem.outerHTML,opacity=getComputedStyle(elem).getPropertyValue("opacity"),oldAlpha=canvas.globalAlpha,canvasContext=canvas.getContext("2d");x=x?x:0;y=y?y:0;canvasContext.globalAlpha=opacity;if(!svgData){svgData=this._getSVGOuterHtml(elem)}var smallSvg="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\"><div></div></svg>",testCanvas=document.createElement("canvas"),successLoadImage,failureLoadImage;failureLoadImage=function(){this._drawCanvg(canvas,svgData,x,y,function(){canvasContext.globalAlpha=oldAlpha;callback(this.resultCanvas)})}.bind(this);successLoadImage=function(testedCanvas){try{testedCanvas.toDataURL();this._nativeDrawSvgOnCanvas(canvas,svgData,x,y,function(){canvasContext.globalAlpha=oldAlpha;callback(canvas)},function(){this._drawCanvg(canvas,svgData,x,y,function(){canvasContext.globalAlpha=oldAlpha;callback(this.resultCanvas)})}.bind(this))}catch(err){this._drawCanvg(canvas,svgData,x,y,function(){canvasContext.globalAlpha=oldAlpha;callback(this.resultCanvas)})}}.bind(this);this._nativeDrawSvgOnCanvas(testCanvas,smallSvg,x,y,successLoadImage,failureLoadImage)},_drawCanvg:function _drawCanvg(canvas,svgData,x,y,callback){var options={ignoreDimensions:!0,ignoreClear:!0,renderCallback:callback,offsetX:x,offsetY:y,resultCanvas:canvas};canvg(canvas,svgData,options)},_nativeDrawSvgOnCanvas:function _nativeDrawSvgOnCanvas(canvas,svgData,x,y,sucessCallback,failureCallback){var DOMURL=window.URL||window.webkitURL||window,blob=new Blob([svgData],{type:"image/svg+xml;charset=utf-8"}),url=DOMURL.createObjectURL(blob),img=new Image;img.onload=function(){try{canvas.getContext("2d").drawImage(img,x,y);DOMURL.revokeObjectURL(url)}catch(err){failureCallback(canvas);return}sucessCallback(canvas)};img.onerror=function(err){failureCallback(canvas)}.bind(this);img.src=url},_getSVGOuterHtml:function _getSVGOuterHtml(svg){var serializeXML=function serializeXML(node,output){var nodeType=node.nodeType;if(3==nodeType){output.push(node.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(1==nodeType){output.push("<",node.tagName);if(node.hasAttributes()){for(var attrMap=node.attributes,i=0,len=attrMap.length,attrNode;i<len;++i){attrNode=attrMap.item(i);output.push(" ",attrNode.name,"='",attrNode.value,"'")}}if(node.hasChildNodes()){output.push(">");for(var childNodes=node.childNodes,i=0,len=childNodes.length;i<len;++i){serializeXML(childNodes.item(i),output)}output.push("</",node.tagName,">")}else{output.push("/>")}}else if(8==nodeType){output.push("<!--",node.nodeValue,"-->")}else{throw"Error serializing XML. Unhandled node of type: "+nodeType}},output=[],childNode=svg.firstChild;while(childNode){serializeXML(childNode,output);childNode=childNode.nextSibling}return"<svg xmlns=\""+svg.attributes.xmlns.value+"\" width=\""+svg.attributes.width.value+"\" height=\""+svg.attributes.height.value+"\">"+output.join("")+"</svg>"}},PxVisBehavior.svgDefinition,PxVisBehavior.uniqueIds];PxVisBehaviorD3.svgLower=[{properties:{pxSvgElemLower:{type:Object,notify:!0}}},PxVisBehavior.svgLowerDefinition];PxVisBehaviorD3.canvasContext=[{properties:{canvasContext:{type:Object,notify:!0},canvasLayers:{type:Object,notify:!0,value:function value(){return{}}}}},PxVisBehavior.canvasLayersConfig];PxVisBehaviorD3.canvas=[{properties:{renderToSvg:{type:Boolean,value:!1}},observers:["_renderToSvgChanged(renderToSvg)"],_renderToSvgChanged:function _renderToSvgChanged(renderToSvg){if(this.hasUndefinedArguments(arguments)){return}if(this.renderToSvg&&this.canvasContext&&this.canvasContext.pxClearCanvas){this.canvasContext.pxClearCanvas()}if(this._isAttached){Polymer.dom.flush()}}},PxVisBehavior.observerCheck,PxVisBehaviorD3.canvasContext,PxVisBehavior.isAttached];PxVisBehaviorD3.renderToCanvas=[{properties:{renderToCanvas:{type:Boolean,value:!1,observer:"_renderToCanvasChanged"}},_renderToCanvasChanged:function _renderToCanvasChanged(renderToCanvas){if(this.hasUndefinedArguments(arguments)){return}if(!this.renderToCanvas&&this.canvasContext&&this.canvasContext.pxClearCanvas){this.canvasContext.pxClearCanvas()}if(this._isAttached){Polymer.dom.flush()}}},PxVisBehavior.observerCheck,PxVisBehavior.isAttached];PxVisBehaviorD3.axes=[{properties:{x:{type:Function,notify:!0},y:{type:Object,notify:!0},isMultiY:{type:Boolean,readOnly:!0,computed:"_getIsMultiY(y.*)"}},_getIsMultiY:function _getIsMultiY(){if(this.hasUndefinedArguments(arguments)){return}return"object"===babelHelpers.typeof(this.y)},_processYValues:function _processYValues(callback){callback=callback.bind(this);if(this.isMultiY){for(var result={},keys=Object.keys(this.y),i=0;i<keys.length;i++){result[keys[i]]=callback(this.y[keys[i]],keys[i])}return result}else{result=callback(this.y)}return result}},PxVisBehavior.observerCheck];PxVisBehaviorD3.domainUpdate={properties:{domainChanged:{type:Number,notify:!0,value:0}}};PxVisBehaviorD3.axisOrientation={properties:{orientation:{type:String,value:"left"}}};PxVisBehaviorD3.axis=[{properties:{axis:{type:Object},orientation:{type:String,value:"bottom"}}},PxVisBehaviorD3.axisOrientation];PxVisBehaviorD3.selectedDomain={properties:{selectedDomain:{type:Object,value:function value(){return{x:[],y:[]}},notify:!0}}};PxVisBehaviorD3.selectedTimeDomain=[{properties:{range:{type:Object,notify:!0},_preventDomainUpdate:{type:Boolean,value:!1},_preventRangeUpdate:{type:Boolean,value:!1}},observers:["_rangeChanged(range)"],attached:function attached(){this._isAttached=!0},_rangeChanged:function _rangeChanged(range){if(this.hasUndefinedArguments(arguments)){return}if(this._isAttached&&!this._preventRangeUpdate){this._preventDomainUpdate=!0;var newDomain={},dataExtents={};newDomain.x=[];newDomain.x[0]=+Px.moment(this.range.from,Px.moment.ISO_8601).format("x");newDomain.x[1]=+Px.moment(this.range.to,Px.moment.ISO_8601).format("x");if(this.dataExtents&&0<this.dataExtents.y.length){dataExtents.y=this.dataExtents.y}else{dataExtents.y=[1/0,-Infinity]}dataExtents.x=newDomain.x;this.set("dataExtents",dataExtents);this._preventDomainUpdate=!1}}},PxVisBehavior.observerCheck,PxVisBehaviorD3.selectedDomain];PxVisBehaviorD3.clipPathBoolean={properties:{clipPath:{type:Boolean,value:!1}}};PxVisBehaviorD3.clipPath={properties:{clipPath:{type:String,notify:!0},seriesClipPath:{type:String,notify:!0}},addClipPath:function addClipPath(elem){if("undefined"!==typeof this.clipPath&&this._doesD3HaveValues(elem)){elem.attr("clip-path","url(#"+this.clipPath+")")}}};PxVisBehaviorD3.dynamicRedraw={properties:{redrawSeries:{type:Boolean,value:!1},redrawElems:{type:Array,value:function value(){return[]}},dynamicRedraw:{type:Boolean,value:!1}}};PxVisBehaviorD3.labelTypeSize={properties:{labelTypeSize:{type:Number,value:12}}};PxVisBehaviorD3.axisConfig=[{properties:{title:{type:String,value:""},labelPosition:{type:String,value:"center"},labelRotation:{type:Number,value:0},labelTranslation:{type:Array,value:function value(){return[0,0]}},series:{type:Array,value:function value(){return[]}},translateAmt:{type:Array,value:function value(){return[0,0]}},titleLocation:{type:Object,value:function value(){return{}}},titleTypeSize:{type:Number,value:15},strokeWidth:{type:Number,value:1},tickSizeOuter:{type:Number,value:0},tickSizeInner:Number,tickPadding:Number,tickValues:{type:Array},ticks:{type:Object},tickFormat:{type:String},axisColor:{type:String,value:""},axisLineColor:{type:String,value:""},axisTickColor:{type:String,value:""},axisLabelColor:{type:String,value:""},axisTitleColor:{type:String,value:""},drawnTickValues:{type:Array,notify:!0}}},PxVisBehaviorD3.labelTypeSize];PxVisBehaviorD3.labelTypeSize={properties:{labelTypeSize:{type:Number,value:12}}};PxVisBehaviorD3.advAxisConfig={properties:{}};PxVisBehaviorD3.radialAxisConfig={properties:{centerOffset:{type:Number,value:0,notify:!0}}};PxVisBehaviorD3.interpolationFunction={properties:{interpolationFunction:{type:Function},_basicInterpolators:{type:Object,value:function value(){return{curveBasis:Px.d3.curveBasis,curveBasisClosed:Px.d3.curveBasisClosed,curveBasisOpen:Px.d3.curveBasisOpen,curveLinear:Px.d3.curveLinear,curveLinearClosed:Px.d3.curveLinearClosed,curveMonotoneX:Px.d3.curveMonotoneX,curveMonotoneY:Px.d3.curveMonotoneY,curveNatural:Px.d3.curveNatural,curveStep:Px.d3.curveStep,curveStepAfter:Px.d3.curveStepAfter,curveStepBefore:Px.d3.curveStepBefore}}}},_checkInterpolation:function _checkInterpolation(){var interpolate=null;interpolate="string"===typeof this.interpolationFunction&&this._basicInterpolators[this.interpolationFunction]?this._basicInterpolators[this.interpolationFunction]:interpolate;interpolate="function"===typeof this.interpolationFunction?this.interpolationFunction:interpolate;interpolate=this.completeSeriesConfig[this.seriesId].interpolationFunction&&"string"===typeof this.completeSeriesConfig[this.seriesId].interpolationFunction&&this._basicInterpolators[this.completeSeriesConfig[this.seriesId].interpolationFunction]?this._basicInterpolators[this.completeSeriesConfig[this.seriesId].interpolationFunction]:interpolate;interpolate=this.completeSeriesConfig[this.seriesId].interpolationFunction&&"function"===typeof this.completeSeriesConfig[this.seriesId].interpolationFunction?this.completeSeriesConfig[this.seriesId].interpolationFunction:interpolate;return interpolate}};PxVisBehaviorD3.lineRadiusLimit={properties:{lineRadiusLimit:{type:Number}}};PxVisBehaviorD3.radialLineGenerator=[{properties:{line:{type:Object},lineRadiusLimit:{type:Number}},_defineRadialLine:function _defineRadialLine(toCanvas,multiLine,counterClockwise,useDegrees){var _this=this,renderToCanvas="undefined"!==typeof toCanvas?toCanvas:!1,dims=JSON.parse(JSON.stringify(this.completeSeriesConfig[this.seriesId].x)),path,line,clockwiseFactor=counterClockwise?-1:1;if(multiLine){if("bofCompleteManually"===this.interpolationFunction){dims.push(dims[0])}path=Px.d3.radialLine().angle(function(d){return _this.x(d[0])*clockwiseFactor}).radius(function(d){var radius=Math.floor(_this.y(+d[1]));if("number"===typeof _this.lineRadiusLimit&&radius<_this.lineRadiusLimit){return _this.lineRadiusLimit}return radius}).defined(function(d){return _this._isValidData(_this.x(d[0]))&&_this._isValidData(_this.y(+d[1]))});line=function line(d){return path(dims.map(function(p){if(!d||"undefined"===typeof d[p]||null===d[p]){return!1}return[p,d[p]]}))}}else{var xId=this.completeSeriesConfig[this.seriesId].x,yId=this.completeSeriesConfig[this.seriesId].y,processAngle;if(useDegrees){processAngle=function processAngle(d){return d[xId]/180*Math.PI*clockwiseFactor}}else{processAngle=function processAngle(d){return d[xId]*clockwiseFactor}}path=Px.d3.radialLine().angle(function(d){return processAngle(d)}).radius(function(d){return _this.y(d[yId])}).defined(function(d){return _this._isValidData(d[xId])&&_this._isValidData(d[yId])});line=function line(d){return path(d)}}var interpolate=this._checkInterpolation();if(interpolate){path.curve(interpolate)}if(renderToCanvas){path.context(this.canvasContext)}this.set("line",line)}},PxVisBehavior.completeSeriesConfig,PxVisBehavior.dataset,PxVisBehaviorD3.interpolationFunction,PxVisBehaviorD3.lineRadiusLimit];PxVisBehaviorD3.lineGaps={properties:{showGaps:{type:Boolean,value:!1}}};PxVisBehaviorD3.lineShared=[{properties:{parallelCoordinates:{type:Boolean,value:!1},radialLine:{type:Boolean,value:!1},gradientLine:{type:Boolean,value:!1},_colorArr:{type:Array,computed:"_computeColorArr(categories,completeSeriesConfig,seriesId)"},multiPath:{type:Boolean,value:!1},_currentDrawingOptions:{type:Object,value:function value(){return{lastPointRenderedIndex:null,currentBatchStartIndex:0}}}},observers:["_computeGradientRange(timeDomain)"],_resetRenderingContext:function _resetRenderingContext(){this._currentDrawingOptions.lastPointRenderedIndex=null;this._currentDrawingOptions.currentBatchStartIndex=0},_computeColorArr:function _computeColorArr(categories,completeSeriesConfig,seriesId){if(this.hasUndefinedArguments(arguments)){return}var colors={};colors[seriesId]=this.createGradientFunction(completeSeriesConfig[seriesId].color);if(0<categories.length){for(var i=0;i<categories.length;i++){if(completeSeriesConfig[categories[i]]){colors[categories[i]]=this.createGradientFunction(completeSeriesConfig[categories[i]].color)}}}return colors},_getLineColor:function _getLineColor(data){var key=this.categoryKey?data[this.categoryKey]:this.seriesId;if(this._colorArr[key]){return this._colorArr[key](data[this.seriesId])}return null},_defineSingleLine:function _defineSingleLine(toCanvas){var _Mathfloor=Math.floor,_this=this,renderToCanvas="undefined"!==typeof toCanvas?toCanvas:!1,xKey=_this.completeSeriesConfig[_this.seriesId].x,yKey=_this.completeSeriesConfig[_this.seriesId].y,line;if(this.showGaps){line=Px.d3.line().x(function(d,i){return _Mathfloor(_this.x(d[xKey]))}).y(function(d){return _Mathfloor(_this.y(d[yKey]))}).defined(function(d,i){return _this._isValidData(d[yKey])})}else{line=Px.d3.line().x(function(d,i){if((d[xKey]||0===d[xKey])&&(d[yKey]||0===d[yKey])){return _Mathfloor(_this.x(d[xKey]))}else if(!renderToCanvas){return _Mathfloor(_this.x(_this.chartData[_this._currentDrawingOptions.lastPointRenderedIndex][xKey]))}}).y(function(d,i){if((d[xKey]||0===d[xKey])&&(d[yKey]||0===d[yKey])){_this._currentDrawingOptions.lastPointRenderedIndex=_this._currentDrawingOptions.currentBatchStartIndex+i;return _Mathfloor(_this.y(d[yKey]))}else if(!renderToCanvas){return _Mathfloor(_this.y(_this.chartData[_this._currentDrawingOptions.lastPointRenderedIndex][yKey]))}}).defined(function(d,i){return null===_this._currentDrawingOptions.lastPointRenderedIndex?_this._isValidData(d[yKey]):_this._isDataNotNull(d[yKey])})}var interpolate=this._checkInterpolation();if(interpolate){line.curve(interpolate)}if(renderToCanvas){line.context(this.canvasContext)}this.set("line",line)},_defineMultiLine:function _defineMultiLine(toCanvas){var _Mathfloor2=Math.floor,renderToCanvas="undefined"!==typeof toCanvas?toCanvas:!1,dims=this.completeSeriesConfig[this.seriesId].x,path=Px.d3.line().defined(function(d){return d}),line=function(d){return path(dims.map(function(p){if(!d||!d[p]&&0!==d[p]||!this.y[p]){return!1}return[_Mathfloor2(this.x(p)),_Mathfloor2(this.y[p](d[p]))]}.bind(this)))}.bind(this),interpolate=this._checkInterpolation();if(interpolate){path.curve(interpolate)}if(renderToCanvas){path.context(this.canvasContext)}this.set("line",line)}},PxVisBehavior.observerCheck,PxVisBehaviorD3.radialLineGenerator,PxVisBehavior.seriesId,PxVisBehaviorD3.lineGaps,PxVisBehaviorD3.interpolationFunction,PxVisBehavior.timeDomain,PxVisBehavior.gradientColorsFunction];PxVisBehaviorD3.serieToRedrawOnTopSVG=[{_drawSVGOnTop:function _drawSVGOnTop(idToRedraw,selfId,d3Selection){if(idToRedraw===selfId){d3Selection.raise()}}},PxVisBehavior.serieToRedrawOnTop,PxVisBehaviorD3.svg];PxVisBehaviorD3.radialPixelCalc={calcPixelCoordForRadial:function calcPixelCoordForRadial(angle,amp,yRange,yDomain,whichVal){var yDomainTot=yDomain[1]-yDomain[0],pixelAmplitude=yRange*(amp-yDomain[0])/yDomainTot;angle=this.adjustAngleForPolarChart(angle,!1);if("x"===whichVal){return Math.sin(angle)*pixelAmplitude}return Math.cos(angle)*pixelAmplitude},adjustAngleForPolarChart:function adjustAngleForPolarChart(angle,toDegrees){var _MathPI=Math.PI,offset=toDegrees?180:_MathPI;if(!this.counterClockwise&&!toDegrees||this.counterClockwise&&toDegrees){angle*=-1}if(this.useDegrees){if(toDegrees){return angle+offset}else{return 2*(angle/360)*_MathPI+offset}}else{if(toDegrees){return 360*(angle/(2*_MathPI))+offset}else{return angle+offset}}}};PxVisBehaviorD3.scatterMarkers={properties:{markerMapping:{type:Object,readOnly:!0,value:{circle:Px.d3.symbolCircle,cross:Px.d3.symbolCross,diamond:Px.d3.symbolDiamond,square:Px.d3.symbolSquare,"triangle-up":Px.d3.symbolTriangle,star:Px.d3.symbolStar,wye:Px.d3.symbolWye,bar:{draw:function draw(context,size){var w=Math.sqrt(size),t=w/4;context.rect(-w,-t,w,t)}},caret:{draw:function draw(context,size){var sqrt3=1.7320508075688772,y=-Math.sqrt(size/(3*sqrt3));context.moveTo(0,2*y);context.lineTo(-sqrt3*y,-y);context.lineTo(0,2*y);context.lineTo(sqrt3*y,-y);context.closePath()}},"thin-bar":{draw:function draw(context,size){var w=Math.sqrt(size),t=w/16;context.rect(-w,-t,w,t)}},"thick-bar":{draw:function draw(context,size){var w=Math.sqrt(size),t=w/2;context.rect(-w,-t,w,t)}},x:{draw:function draw(context,size){var t=.5,c=.01,l=Math.sqrt(size)/2;context.moveTo(0,-c);context.lineTo(l-t,-l+t);context.lineTo(l+t,-l-t);context.lineTo(c,0);context.lineTo(l+t,l+t);context.lineTo(l-t,l-t);context.lineTo(0,c);context.lineTo(-l+t,l-t);context.lineTo(-l-t,l+t);context.lineTo(-c,0);context.lineTo(-l-t,-l-t);context.lineTo(-l+t,-l+t);context.closePath()}},ring:{draw:function draw(context,size){var _Mathsqrt=Math.sqrt,_MathPI2=Math.PI,t=_Mathsqrt(size)/16,r=_Mathsqrt(size/_MathPI2);context.moveTo(r,0);context.arc(0,0,r,0,2*_MathPI2);context.moveTo(r-t,0);context.arc(0,0,r-t,0,2*_MathPI2,!0);context.closePath()}},kite:{draw:function draw(context,size){var w=Math.sqrt(size);context.moveTo(0,w);context.lineTo(w,-w/2);context.lineTo(0,-w);context.lineTo(-w,-w/2);context.closePath()}},scalene:{draw:function draw(context,size){var w=Math.sqrt(size);context.moveTo(w,0);context.lineTo(w,-w);context.lineTo(-w,w/2);context.closePath()}}}},markerSymbol:{type:String},markerScale:{type:Number},markerSize:{type:Number},markerFillOpacity:{type:Number},markerStrokeOpacity:{type:Number},mutedOpacity:{type:Number}}};PxVisBehaviorD3.icons={properties:{_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})},_iconSize:{type:Number,value:16},_iconScale:{type:Number,value:16},_iconCallbackQueue:{type:Array,value:function value(){return[]}},_debugIconWarning:{type:Boolean,value:!1},_iconsLoadedBound:Function},ready:function ready(){this._iconsLoadedBound=this._iconsLoaded.bind(this)},_iconsLoaded:function _iconsLoaded(){window.removeEventListener("iron-iconset-added",this._iconsLoadedBound);console.warn("New iconset loaded. Trying again.");this._iconCallbackQueue.forEach(function(cb){cb.bind(this)()}.bind(this))},_waitForIconsLoaded:function _waitForIconsLoaded(){window.addEventListener("iron-iconset-added",this._iconsLoadedBound)},_getPxIcon:function _getPxIcon(iconName,targetSize,defaultKey,defaultName){var split=iconName.split(":"),key=split[0]&&split[1]?split[0]:defaultKey,name=split[0]&&split[1]?split[1]:defaultName,iconSet=this._meta.byKey(key),icon;if(!iconSet){console.warn("Cant find set named: ".concat(key,". Waiting for set to load..."));this._debugIconWarning=!0;this._waitForIconsLoaded();return null}if(this._debugIconWarning){this._debugIconWarning=!1;console.warn("Set ".concat(key," successfully loaded"))}icon=Polymer.dom(iconSet).querySelector("[id=\"".concat(name,"\"]"));if(!icon){console.warn("Cant find icon named: ".concat(name));icon=Polymer.dom(iconSet).querySelector("[id=\"".concat(defaultName,"\"]"))}this._iconSize=iconSet.size;var iconScale=this._calcIconScale(this._iconSize,targetSize),copy=icon.cloneNode(!0);return{icon:copy,size:iconSet.size,scale:iconScale}},_calcIconScale:function _calcIconScale(size,targetSize){return targetSize/size}};PxVisBehaviorD3.cursorIcon=[{ready:function ready(){this._iconCallbackQueue=[this._drawCursorIcon]},_drawCursorIcon:function _drawCursorIcon(){if(this.hasUndefinedArguments(arguments)){return}if(!this.iconType||"none"===this.iconType){return}if(this._doesD3HaveValues(this._icon)){this._icon.remove()}var icon=this._getPxIcon(this.iconType,12,"px-utl","information");if(!icon){return}this._iconSize=icon.size;this._iconScale=icon.scale;this._icon=Px.d3.select(this._cursorGroup.node().appendChild(icon.icon)).attr("fill","transparent").attr("stroke",this._checkThemeVariable("--px-vis-cursor-line-color","rgb(0,0,0)")).attr("pointer-events","none")},_positionCursorIcon:function _positionCursorIcon(mousePos){var x=mousePos[0]+5,y=mousePos[1]-this._iconSize,t="translate("+x+","+y+")",s=" scale("+this._iconScale+")";this._icon.attr("transform",t+s)}},PxVisBehavior.observerCheck,PxVisBehaviorD3.icons];PxVisBehaviorD3.scatterArrow={properties:{showArrows:{type:Boolean,value:!1},arrowConfig:{type:Boolean,value:function value(){return{symbol:"caret",size:24,scale:1,minLength:10}}}}};</script>
</head><body></body></html>