<html><head><script>PxLazyLoadBehavior={properties:{_images:{type:Array,value:function value(){return[]}},_imageCount:{type:Number,value:0},_observer:{type:Object,value:function value(){return{}}},_canUseWebP:{type:Boolean,value:function value(){var elem=document.createElement("canvas");if(!!(elem.getContext&&elem.getContext("2d"))){return 0==elem.toDataURL("image/webp").indexOf("data:image/webp")}else{return!1}}},_isRetina:{type:Boolean,value:function value(){return 1<window.devicePixelRatio?!0:!1}}},_setIntersectionObserver:function _setIntersectionObserver(){this._images=Polymer.dom(this.root).querySelectorAll(".js-lazy-image");this._config={rootMargin:"50px 0px",threshold:.01};this._imageCount=this._images.length;if(!("IntersectionObserver"in window)||-1<window.navigator.userAgent.indexOf("Edge")){this._loadImagesImmediately(this._images)}else{this._observer=new IntersectionObserver(this._onIntersection.bind(this),this._config);for(var i=0,image;i<this._images.length;i++){image=this._images[i];this._observer.observe(image)}}},_fetchImage:function _fetchImage(url){return new Promise(function(resolve,reject){var image=new Image;image.src=url;image.onload=resolve;image.onerror=reject})},_preloadImage:function _preloadImage(image){var _this=this,src=image.dataSrc;if(!src){return}src=this._getImageType(src);return this._fetchImage(src).then(function(){_this._applyImage(image,src)})},_getImageType:function _getImageType(src){if(this._canUseWebP){this._isRetina?src="".concat(src.slice(0,src.lastIndexOf(".")),"@2x.webp"):src="".concat(src.slice(0,src.lastIndexOf(".")),".webp")}if(this._isRetina&&!this._canUseWebP){src="".concat(src.slice(0,src.lastIndexOf(".")),"@2x.png")}return src},_loadImagesImmediately:function _loadImagesImmediately(images){for(var i=0,image;i<images.length;i++){image=images[i];this._preloadImage(image)}},_disconnect:function _disconnect(){if(!observer){return}this._observer.disconnect()},_onIntersection:function _onIntersection(entries){if(0===this._imageCount){this._observer.disconnect()}for(var i=0,entry;i<entries.length;i++){entry=entries[i];if(0<entry.intersectionRatio){this._imageCount--;try{this._observer.unobserve(entry.target)}catch(e){}this._preloadImage(entry.target)}}},_applyImage:function _applyImage(img,src){img.classList.add("js-lazy-image--handled");img.src=src;img.classList.add("fade-in")},_resetImages:function _resetImages(){this._images=Polymer.dom(this.root).querySelectorAll(".js-lazy-image");for(var i=0,image;i<this._images.length;i++){image=this._images[i];this._images[i].classList.remove("js-lazy-image--handled")}}};</script>
</head><body></body></html>