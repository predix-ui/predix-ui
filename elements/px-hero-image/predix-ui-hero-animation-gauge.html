<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../css/predix-ui-hero-animation-icons-styles.html">

</head><body><dom-module id="predix-ui-hero-animation-gauge">
  <template>
    <style include="predix-ui-hero-animation-icons-styles">.startPos{transform:rotate(var(--start-angle,0));}.rotate{animation:rotate 0.5s linear;}@keyframes rotate{from{transform:rotate(var(--start-angle,0));}to{transform:rotate(0);}}.return{animation:return 0.5s linear;}@keyframes return{from{transform:rotate(0);}to{transform:rotate(var(--start-angle,0));}}.gauge-background-color{fill:var(--animation-gauge-background-color, #b6c3cc);}</style>

    <svg id="base" xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 380 100">
       <clipPath id$="[[clipPathName]]">
        <rect id="clipPath" x="-190" y="-186" width="380" height="186" class="startPos"></rect>
       </clipPath>

      <g transform="translate(190,92)">
        <path id="background" class="gauge-background-color" d="M-190,3.13c0-104.93,85.07-190,190-190s190,85.07,190,190H114c0-68.48-45.52-114-114-114s-114,45.52-114,114h-76Z"></path>
        <path id="front" class$="[[color]]" d="M-190,3.13c0-104.93,85.07-190,190-190s190,85.07,190,190H114c0-68.48-45.52-114-114-114s-114,45.52-114,114h-76Z" clip-path$="url(#[[clipPathName]])"></path>
        <path id="needle" class="startPos" d="M0,6L0,-6L190,-3L190,3Z" stroke-miterlimit="10"></path>
      </g>
      <rect x="0" y="0" width="380" height="184" fill="none" pointer-events="all" on-mouseenter="_hovered"></rect>
    </svg>
  </template>
</dom-module>

<script>Polymer({is:"predix-ui-hero-animation-gauge",properties:{color:{type:String},play:{type:Boolean,value:!1,notify:!0,observer:"_play"},delay:{type:Number,value:0},_returnTimeout:{type:Number,computed:"_computeTimeout(delay)"},resetTimeout:{type:Number,value:500},clipPathName:{type:String,value:"gcp"}},_play:function _play(){this.debounce("play",function(){if(!this.play){return}setTimeout(this._step1.bind(this),this.delay)},10)},_hovered:function _hovered(){this.set("play",!0)},_step1:function _step1(){this.$.needle.classList.add("rotate");this.$.clipPath.classList.add("rotate");this.$.needle.classList.remove("startPos");this.$.clipPath.classList.remove("startPos");setTimeout(this._step2.bind(this),this._returnTimeout)},_step2:function _step2(){this.$.needle.classList.add("return");this.$.clipPath.classList.add("return");this.$.needle.classList.remove("rotate");this.$.clipPath.classList.remove("rotate");this.$.needle.classList.add("startPos");this.$.clipPath.classList.add("startPos");setTimeout(this._step3.bind(this),this.resetTimeout)},_step3:function _step3(){this.$.needle.classList.remove("return");this.$.clipPath.classList.remove("return");setTimeout(function(){this.play=!1}.bind(this),750)},_computeTimeout:function _computeTimeout(delay){return 1750-2*delay}});</script>
</body></html>