<html><head><link defer="" rel="import" href="../../../bower_components/polymer/polymer.html">
  <link defer="" rel="import" href="../../../bower_components/px-demo/px-demo-footer.html">
  <link defer="" rel="import" href="../../../bower_components/px-demo/px-demo-footer.html">
  <link defer="" rel="import" href="../../../elements/px-catalog-page/px-catalog-page-behavior.html">
  <link defer="" rel="import" href="../../../elements/px-catalog-page/px-catalog-page-elements.html">
  <link defer="" rel="import" href="../../../elements/px-catalog-code-snippet/px-catalog-code-snippet.html">
  <link defer="" rel="import" href="../../../css/px-catalog-page-styles.html">
  <link defer="" rel="import" href="../../../css/px-catalog-theme-styles.html">
  

  </head><body><dom-module id="view-develop-vis-multi-axis">
    <template>
      <style include="px-catalog-theme-styles px-catalog-page-styles px-catalog-code-styles"></style>
      

      <div class="page">
        
  <div class="page-anchors" id="toc">
    <ul class="toc">
      
  <li class="toc__item">
    <a class$="toc__item__link [[_getTocLinkClassName('#introduction', activeAnchor)]]" href="#" anchor="#introduction" on-tap="_handleAnchorTapped">Introduction</a>
    
  </li>

  <li class="toc__item">
    <a class$="toc__item__link [[_getTocLinkClassName('#configuring-a-multi-axis-chart', activeAnchor)]]" href="#" anchor="#configuring-a-multi-axis-chart" on-tap="_handleAnchorTapped">Configuring a multi-axis chart</a>
    
  </li>

  <li class="toc__item">
    <a class$="toc__item__link [[_getTocLinkClassName('#setting-chart-extents', activeAnchor)]]" href="#" anchor="#setting-chart-extents" on-tap="_handleAnchorTapped">Setting chart extents</a>
    
  </li>

  <li class="toc__item">
    <a class$="toc__item__link [[_getTocLinkClassName('#configuring-the-y-axes', activeAnchor)]]" href="#" anchor="#configuring-the-y-axes" on-tap="_handleAnchorTapped">Configuring the y axes</a>
    
  </li>

    </ul>
  </div>

        <div class="page-content">
          <h2 class="page-title">Setting up multi-axis on Timeseries and XY</h2>
          
          
<h3 id="introduction">Introduction</h3>
<p>By default, px-vis-timeseries and px-vis-xy-chart have one dependent axis, but you can configure them to have multiple dependent axes. This guide will walk you though how.</p>
<p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/multi-axis" img-alt="example axis" style="border:none;" caption="Multi-Axis"></catalog-picture></p>
<h3 id="configuring-a-multi-axis-chart">Configuring a multi-axis chart</h3>
<p>In the "Introduction to configuring a chart", we introduced the <code class="code code--inline">seriesConfig</code> property. To create a multi-axis chart, we'll return to this property. This configuration produces a single axis chart:</p>
<px-catalog-code-snippet language="json">
      <script type="text/code">
{
  "uniqueSeriesId1": {
    "x": "Timestamp",
    "y": "asset1",
    "name": "Asset 1",
    "type": "line"
  },
  "uniqueSeriesId2": {
    "x": "Timestamp",
    "y": "asset2",
    "name": "Asset 2",
    "type": "line"
  },
  "uniqueSeriesId3": {
    "x": "Timestamp",
    "y": "asset3",
    "name": "Asset 3",
    "type": "line"
  }
}

      </script>
    </px-catalog-code-snippet><p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/single-axis" img-alt="single axis" style="border:none;" caption="Single Axis"></catalog-picture></p>
<p>The above example configuration defines three series, but does not define any axis. By default, if no axis is specified in the <code class="code code--inline">seriesConfig</code>, it places the series on a default axis. Adding in an axis key will allow us to define different axes and specify to which axis each series belongs:</p>
<px-catalog-code-snippet language="json">
      <script type="text/code">
{
  "uniqueSeriesId1": {
    "x": "Timestamp",
    "y": "asset1",
    "name": "Asset 1",
    "type": "line",
    "axis": {
      "id": "axisA",
      "side": "left",
      "number": "1"
    }
  },
  "uniqueSeriesId2": {
    "x": "Timestamp",
    "y": "asset2",
    "name": "Asset 2",
    "type": "line",
    "axis": {
      "id": "axisC",
      "side": "right",
      "number": "1"
    }
  },
  "uniqueSeriesId3": {
    "x": "Timestamp",
    "y": "asset3",
    "name": "Asset 3",
    "type": "line",
    "axis": {
      "id": "axisB",
      "side": "left",
      "number": "2"
    }
  }
}


      </script>
    </px-catalog-code-snippet><p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/multi-axis" img-alt="multi-axis" style="border:none;" caption="Multi-Axis"></catalog-picture></p>
<p>You'll notice that the <code class="code code--inline">axis</code> key expects an object value, itself with three keys:</p>
<ul>
<li><code class="code code--inline">id</code>: a unique identifier for the axis</li>
<li><code class="code code--inline">side</code>: which side of the chart the axis should go</li>
<li><code class="code code--inline">number</code>: an numerical order for each axis on that side</li>
</ul>
<p>You'll notice in the above configuration that we've defined two axes on the left and one on the right. These axes have the ability to be reordered by the end users. However, at this time, the number of axes on the left and right side will remain fixed.</p>
<p>If you want multiple series to be on the same axis, just give them the same axis definition:</p>
<px-catalog-code-snippet language="json">
      <script type="text/code">
{
  "uniqueSeriesId1": {
    "x": "Timestamp",
    "y": "asset1",
    "name": "Asset 1",
    "type": "line",
    "axis": {
      "id": "axisA",
      "side": "left",
      "number": "1"
    }
  },
  "uniqueSeriesId2": {
    "x": "Timestamp",
    "y": "asset2",
    "name": "Asset 2",
    "type": "line",
    "axis": {
      "id": "axisA",
      "side": "left",
      "number": "1"
    }
  },
  "uniqueSeriesId3": {
    "x": "Timestamp",
    "y": "asset3",
    "name": "Asset 3",
    "type": "line",
    "axis": {
      "id": "axisB",
      "side": "left",
      "number": "2"
    }
  }
}


      </script>
    </px-catalog-code-snippet><p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/two-series" img-alt="two series" style="border:none;" caption="Two series on one axis"></catalog-picture></p>
<h3 id="setting-chart-extents">Setting chart extents</h3>
<p>If you want to manually set your chart extents on a single axis, you would do so like this:</p>
<px-catalog-code-snippet language="javascript">
      <script type="text/code">
chartExtents = {
  "x": ["dynamic", "dynamic"],
  "y": [0,40]
};

      </script>
    </px-catalog-code-snippet><p>This defines your y-axis to have a domain from 0 to 40. If you apply this to your multi-axis chart, it will set that domain for all the axes.</p>
<p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/y40" img-alt="domain 0-40" style="border:none;" caption="All axes with a domain 0-40"></catalog-picture></p>
<p>Instead, to set the chartExtents on a particular axis, you'll want to use that axis' <code class="code code--inline">id</code></p>
<px-catalog-code-snippet language="javascript">
      <script type="text/code">
chartExtents = {
  "x": ["dynamic", "dynamic"],
  "axisA": [0,40],
  "axisC": [-2,2]
};

      </script>
    </px-catalog-code-snippet><p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/axisac" img-alt="axisA and axisC" style="border:none;" caption="Axis A with a domain 0 to 40 and Axis C with a domain -2 to 2"></catalog-picture></p>
<p>Now, the custom domains get only applied to <code class="code code--inline">axisA</code> and <code class="code code--inline">axisC</code>, while <code class="code code--inline">axisB</code> fallsback to <code class="code code--inline">dynamic</code>.</p>
<h3 id="configuring-the-y-axes">Configuring the y axes</h3>
<p>Configuring the y axes is similar to setting its chartExtents. With a single axis, we customize properties of the y axis like this:</p>
<px-catalog-code-snippet language="javascript">
      <script type="text/code">
yAxisConfig = {
  "unit": "Beard-seconds"
};

      </script>
    </px-catalog-code-snippet><p>This would display a <code class="code code--inline">unit</code> in the title. However, if we apply this configuration to a multi-axis chart, the unit gets applied to every axis.</p>
<p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/unit" img-alt="unit" style="border:none;" caption="All axes with a unit"></catalog-picture></p>
<p>Configurations listed in the yAxisConfig will be applied to every axis, which can be a nice shorthand for applying properties to all the axes. To apply specific configs to only one axis, nest the configuration with the axis ID as the key:</p>
<px-catalog-code-snippet language="javascript">
      <script type="text/code">
yAxisConfig = {
  "unit": "Beard-seconds",
  "axisA": {
    "title": "Axis A"
  },
  "axisB": {
    "title": "Axis B",
    "unit": "MegaFonzie"
  },
  "axisC": {
    "title": "Axis C"
  }
};

      </script>
    </px-catalog-code-snippet><p><catalog-picture img-src="../../img/guidelines/dev/vis/multi-axis/axisconfig" img-alt="axis config" style="border:none;" caption="Specific configs for each axis"></catalog-picture></p>
<p>You can see that each axis gets the general <code class="code code--inline">unit</code>, 'Beard-seconds', which was listed without a specific axis. But each gets only the <code class="code code--inline">title</code> in its particular config. You will also note that the config for <code class="code code--inline">axisB</code> also has a different <code class="code code--inline">unit</code>, which overwrites the general <code class="code code--inline">unit</code> configuration.</p>

        </div>
      </div>
      <px-demo-footer></px-demo-footer>
    </template>
    <script>Polymer({is:"view-develop-vis-multi-axis",behaviors:[PxCatalogBehavior.Page],_dynamicTheme:!1,ready:function ready(){if(this._dynamicTheme){this.setAttribute("dynamic-theme","")}}});</script>
  </dom-module>
</body></html>