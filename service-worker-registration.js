"use strict";if("serviceWorker"in navigator){if("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname){console.log("Dev environment detected, skipping ServiceWorker registration.");navigator.serviceWorker.getRegistrations().then(function(registrations){for(var i=0;i<registrations.length;i++){console.log("Unregistering existing service worker for dev environment.");registrations[i].unregister()}})}else{window.addEventListener("load",function(){setTimeout(function(){navigator.serviceWorker.register("service-worker.js").then(function(reg){console.log("Service worker registered.");reg.onupdatefound=function(){console.log("Service worker update found.");var installingWorker=reg.installing;installingWorker.onstatechange=function(){switch(installingWorker.state){case"installed":if(navigator.serviceWorker.controller){console.log("New or updated content is available.");setTimeout(function(){window.dispatchEvent(new CustomEvent("service-worker-changes-available"))},2500)}else{console.log("Content is now available offline!")}break;case"redundant":console.error("The installing service worker became redundant.");break;}}}}).catch(function(e){console.error("Error during service worker registration:",e)})},2e3)})}}